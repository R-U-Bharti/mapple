import{r as s,j as r}from"./index-BLb-597b.js";import{$ as f,m,a as x}from"./module-C7qqlfiZ.js";const c=new m,g=new x,h=({map:e,category:o="atm"})=>{const t=s.useRef(null);s.useEffect(()=>{e&&t.current&&(t.current.remove(),c.removeLayer({map:e,layer:t.current}));var l={divId:"nearby_search",map:e,keywords:o,refLocation:"28.632735,77.219696",fitbounds:!0,icon:{url:"https://apis.mappls.com/map_v3/1.png"},popupOptions:{color:"#000"},click_callback:function(n){if(n){var a="Name: "+n.placeName+`
Address: `+n.placeAddress+`
eLoc: `+n.eLoc;alert(a)}}};return t.current=g.nearby(l,function(n){console.log(n)}),()=>{e&&t.current&&c.removeLayer({map:e,layer:t.current})}},[e,o])},v=()=>{const e=s.useRef(null),[o,t]=s.useState(!1),[l,n]=s.useState(""),[a,p]=s.useState(""),u={width:"300px",position:"absolute",zIndex:999,fontSize:"15px",padding:"10px",border:"1px solid #ddd",outline:"none !important"},d={map:!0,plugins:["nearby"]};return s.useEffect(()=>(c.initialize(sessionStorage.getItem("accessToken")??"f660f18a-ffe6-423c-819a-c942085e8633",d,()=>{const i=c.Map({id:"map",properties:{center:[28.633,77.2194],zoom:4}});i.on("load",()=>{t(!0)}),e.current=i}),()=>{e.current&&e.current.remove()}),[]),r.jsxs("div",{id:"map",style:{width:"100%",height:"99vh",display:"inline-block"},children:[r.jsx("input",{style:u,type:"text",id:"auto",name:"auto",className:"search-outer form-control as-input text-zinc-900 focus:outline-none",placeholder:"Type category...",required:"",spellCheck:"false",onChange:i=>p(i.target.value)}),r.jsx("button",{onClick:()=>n(a),className:"text-white bg-green-600 hover:bg-green-500 px-3 py-1 w-max ",style:{position:"absolute",zIndex:999,fontSize:"15px",padding:"10px",left:"300px"},children:"Go"}),!o&&r.jsxs("div",{className:"",style:{display:"flex",flexDirection:"column",gap:"10px",justifyContent:"center",alignItems:"center",height:"100vh"},children:[r.jsx(f,{visible:!0,height:"80",width:"80",color:"#ffffff",ariaLabel:"grid-loading",radius:"12.5",wrapperClass:"grid-wrapper"}),r.jsx("div",{style:{fontWeight:"500",fontSize:"14px",color:"white"},children:"Loading Map..."})]}),o&&r.jsx(h,{map:e.current,category:l})]})};export{v as default};
