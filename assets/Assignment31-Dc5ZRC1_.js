import{r as i,j as n}from"./index-DmYXSqi6.js";import{$ as l,m as c,a as p}from"./module-BAm-XQCs.js";const o=new c,d=new p,f=({map:e})=>{const t=i.useRef(null);i.useEffect(()=>(e&&t.current&&(t.current.remove(),o.removeLayer({map:e,layer:t.current})),t.current=d.getPinDetails({pin:"mmi000"},s=>{var a;console.log("map details: ",s);const r=new o.Marker({position:{lat:28.550794,lng:77.268944},map:e});r.setPosition({lat:28.454,lng:77.5454}),r.setIcon("/pin.png"),r.setPopup(`<div style='color: black;'><h4 style='font-weight: 600; border-bottom: 1px solid gray;'>Marker Address</h4><p>${(a=s==null?void 0:s.data)==null?void 0:a.address}</p></div>`),r()}),()=>{e&&t.current&&o.removeLayer({map:e,layer:t.current})}),[e])},g=()=>{const e=i.useRef(null),[t,s]=i.useState(!1),r={map:!0,plugins:["placedetails"]};return i.useEffect(()=>(o.initialize(sessionStorage.getItem("accessToken")??"f660f18a-ffe6-423c-819a-c942085e8633",r,()=>{const a=o.Map({id:"map",properties:{center:[28.633,77.2194],zoom:4}});a.on("load",()=>{s(!0)}),e.current=a}),()=>{e.current&&e.current.remove()}),[]),n.jsxs("div",{id:"map",style:{width:"100%",height:"100vh",display:"inline-block"},children:[!t&&n.jsxs("div",{className:"",style:{display:"flex",flexDirection:"column",gap:"10px",justifyContent:"center",alignItems:"center",height:"100vh"},children:[n.jsx(l,{visible:!0,height:"80",width:"80",color:"#ffffff",ariaLabel:"grid-loading",radius:"12.5",wrapperClass:"grid-wrapper"}),n.jsx("div",{style:{fontWeight:"500",fontSize:"14px",color:"white"},children:"Loading Map..."})]}),t&&n.jsx(f,{map:e.current})]})};export{g as default};
